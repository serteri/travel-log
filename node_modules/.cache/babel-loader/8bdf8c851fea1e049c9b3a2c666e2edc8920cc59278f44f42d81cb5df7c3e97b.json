{"ast":null,"code":"// Require specific models so that we can\n// create functionality involving them.\nconst {\n  Role\n} = require('../models/RoleModel');\nconst {\n  User\n} = require('../models/UserModel');\n\n// Model.find({}) returns all documents in a collection.\nasync function getAllRoles() {\n  return await Role.find({});\n}\n\n// Model.find({field: value}) returns documents\n// that have a specified value for a specified field.\nasync function getUsersWithRole(roleName) {\n  // Get the role ID for the role specified.\n  let roleID = await Role.findOne({\n    name: roleName\n  }).exec();\n\n  // Filter through the Users to find only the ones\n  // with the matching role ID.\n  let usersFound = await User.find({\n    role: roleID\n  }).exec();\n  return usersFound;\n}\n\n// Export the functions for our routes to use.\nmodule.exports = {\n  getAllRoles,\n  getUsersWithRole\n};","map":{"version":3,"names":["Role","require","User","getAllRoles","find","getUsersWithRole","roleName","roleID","findOne","name","exec","usersFound","role","module","exports"],"sources":["/Users/serteriyigunlu/Desktop/travel-log-app/src/controllers/RoleFunctions.js"],"sourcesContent":["// Require specific models so that we can\n// create functionality involving them.\nconst { Role } = require('../models/RoleModel');\nconst { User } = require('../models/UserModel');\n\n// Model.find({}) returns all documents in a collection.\nasync function getAllRoles(){\n    return await Role.find({});\n}\n\n// Model.find({field: value}) returns documents\n// that have a specified value for a specified field.\nasync function getUsersWithRole(roleName){\n\n    // Get the role ID for the role specified.\n    let roleID = await Role.findOne({name: roleName}).exec();\n\n    // Filter through the Users to find only the ones\n    // with the matching role ID.\n    let usersFound = await User.find({role: roleID}).exec();\n\n    return usersFound;\n}\n\n// Export the functions for our routes to use.\nmodule.exports = {\n    getAllRoles,\n    getUsersWithRole\n}"],"mappings":"AAAA;AACA;AACA,MAAM;EAAEA;AAAK,CAAC,GAAGC,OAAO,CAAC,qBAAqB,CAAC;AAC/C,MAAM;EAAEC;AAAK,CAAC,GAAGD,OAAO,CAAC,qBAAqB,CAAC;;AAE/C;AACA,eAAeE,WAAWA,CAAA,EAAE;EACxB,OAAO,MAAMH,IAAI,CAACI,IAAI,CAAC,CAAC,CAAC,CAAC;AAC9B;;AAEA;AACA;AACA,eAAeC,gBAAgBA,CAACC,QAAQ,EAAC;EAErC;EACA,IAAIC,MAAM,GAAG,MAAMP,IAAI,CAACQ,OAAO,CAAC;IAACC,IAAI,EAAEH;EAAQ,CAAC,CAAC,CAACI,IAAI,CAAC,CAAC;;EAExD;EACA;EACA,IAAIC,UAAU,GAAG,MAAMT,IAAI,CAACE,IAAI,CAAC;IAACQ,IAAI,EAAEL;EAAM,CAAC,CAAC,CAACG,IAAI,CAAC,CAAC;EAEvD,OAAOC,UAAU;AACrB;;AAEA;AACAE,MAAM,CAACC,OAAO,GAAG;EACbX,WAAW;EACXE;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}